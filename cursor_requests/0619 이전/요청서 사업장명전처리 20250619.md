# 🛠️ 요청서: 사업장명 정규화(전처리) 로직 추가 요청서 (2025-06-19)

## 📌 목적

현재 `getPensionStatus` 함수에서 사업자번호는 정확하게 전달되었음에도, **사업장명이 지나치게 구체적인 경우 API 매칭에 실패하는 문제**가 지속 발생 중입니다.

이에 따라, **공공데이터 응답 기준에 맞춰 사업장명을 정규화(전처리)하여 전달하도록 개선**을 요청드립니다.

---

## ❗ 문제 사례

* `bizNo`: `1068104152`
* `companyName`: `희성전자(주)/파주공장` → ❌ 실패
* 공공데이터 상 등록된 사업장명: `희성전자(주)` → ✅ 이 이름만 매칭 가능

---

## 🎯 요청 사항

### ✅ 1. 전달값 정규화

* `companyName`이 `/` 포함 시 → 첫 부분만 추출

```ts
// 예시 로직
const normalizedName = companyName.split("/")[0];
```

* 전달 파라미터 수정:

```ts
body: {
  bizNo: "1068104152",
  wkplNm: normalizedName // e.g., "희성전자(주)"
}
```

### ✅ 2. 백엔드 매칭 허용 기준

* 기존: `item.wkplNm.includes(wkplNm)`
* 개선: `wkplNm.includes(item.wkplNm)` 또는 양방향 허용

---

## 🧪 테스트 대상

* 테스트 케이스: `1068104152`, `희성전자(주)/파주공장`
* 기대 결과: 실제 공공데이터 응답에 `희성전자(주)`가 존재 → 매칭 성공

---

## ✅ 완료 기준

| 항목                 | 기대 결과                               |
| ------------------ | ----------------------------------- |
| 사업자번호 `1068104152` | `success: true`, 국민연금 정보 수신         |
| companyName 전처리    | `희성전자(주)/파주공장` → `희성전자(주)`로 변경되어 전달 |
| 매칭 기준              | 완전 일치 또는 역방향 포함 허용으로 유연한 매칭         |

---

반드시 위 기준에 따라 사업장명 정규화 로직을 반영해 주시기 바랍니다.
