# 🎯 요청서: 사업자등록번호 정확 매칭 필터 적용 요청서 (2025-06-19)

## 📌 목적

현재 `getPensionStatus` API 호출 시, 사업자등록번호로 부분 검색(`bzowrRgstNo=앞6자리`)을 수행한 후 **응답 결과 전체에서 정확히 일치하는 사업장을 찾지 않고**, 첫 번째 항목을 그대로 사용하는 문제가 발생하고 있습니다.

이에 따라, **입력된 사업자등록번호(10자리)와 완전히 일치하는 결과만 표시되도록 필터링 로직을 추가해 주시기 바랍니다.**

---

## ❗ 문제 사례

* `bizNo`: `1088202313`
* UI에 표시된 사업장명: `전국공공운수사회서비스...` ❌
* 실제 DB 기준 정답 사업장명: `노들새마을금고` ✅

> 이유: `bzowrRgstNo=108820`으로 부분 검색 시 여러 사업장이 반환되며, 필터링 없이 첫 번째 항목(`전국공공운수...`)을 그대로 사용하고 있음.

---

## 🛠️ 요청 사항

### ✅ 1. 매칭 필터 적용

* 응답 데이터 `items.item[]`에서 다음 조건 만족하는 항목만 사용:

```ts
item.bzowrRgstNo === bizNo
```

### ✅ 2. 매칭 실패 처리

* 위 조건을 만족하는 항목이 없을 경우:

```json
{
  "success": false,
  "error": "해당 사업자번호로 등록된 사업장이 존재하지 않습니다."
}
```

### ✅ 3. UI 표시 조건

* 반드시 `bzowrRgstNo === 입력값` 일치 항목만 렌더링 허용

---

## 🧪 테스트 대상

* `bizNo`: `1088202313`
* 기대 결과: `노들새마을금고` 정보가 정확히 표시되어야 하며, `전국공공운수사회서비스` 등은 오탐으로 제외되어야 함

---

## ✅ 완료 기준

| 항목         | 기대 결과                               |
| ---------- | ----------------------------------- |
| 매칭 방식      | `bzowrRgstNo === bizNo` 완전 일치 기준 적용 |
| 오탐 방지      | 부분 일치 또는 다른 사업장 → 전부 무시             |
| 일치 결과 없을 시 | 사용자 친화적 오류 메시지 반환 (`해당 사업장 없음`)     |
| UI 렌더링 기준  | 완전 일치 항목만 표시                        |

---

해당 필터 로직은 **기능 정확도 보장 및 오탐 방지의 핵심 요소**이므로 반드시 반영 바랍니다.
