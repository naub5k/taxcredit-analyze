# 작업요청서\_20250619\_012 — 마스킹된 사업자등록번호 확인을 위한 단건 테스트 요청

## 1. 요청 개요

* **목적**: 정상 사업자등록번호(`1248155381`, 삼성전자로지텍주식회사)를 사용하여 V2 API가 마스킹 상태로 응답하더라도 실제 item 응답이 존재하는지 확인하고, 현재 로직이 정상 동작하는지 검증
* **요청자**: 유비
* **수행자**: Cursor

## 2. 테스트 대상

* 호출 URL:

```http
https://taxcredit-api-func.azurewebsites.net/api/getPensionStatus?bizNo=1248155381
```

* 기대 응답:

  * HTTP 상태코드: 200
  * JSON 응답 내부 resultCode: "00"
  * `items`에 최소 1건 이상의 데이터가 포함되어 있을 것
  * 마스킹된 `bzowrRgstNo` 포함 가능 (`124815****` 등)

## 3. 검증 항목

| 항목             | 기대 결과       | 비고                         |
| -------------- | ----------- | -------------------------- |
| API 호출 성공      | HTTP 200    | Azure Functions 배포 후 기준    |
| resultCode     | "00"        | 공공데이터 응답 기준                |
| items 존재 여부    | 존재해야 함      | 단일 객체 or 배열 형태 허용          |
| bizNo 비교 로직 없음 | bizNo 매칭 생략 | `items[0]` 바로 사용 방식 유지     |
| 에러 메시지 없음      | 정상 흐름       | "등록된 사업장이 없습니다" 발생하지 않아야 함 |

## 4. 판단 기준

* 만약 위 사업자번호로도 "사업장이 존재하지 않습니다" 메시지가 반환된다면, 로직상 문제가 아닌 **공공데이터 API 내부 식별 불일치 또는 실질 미등록 상태**일 수 있음
* 그러나 응답 자체가 존재한다면, 현 로직은 더 이상 `bizNo` 비교를 수행하지 않기 때문에 해당 결과를 그대로 클라이언트에 전달해야 함

## 5. 후속 조치

* 이 테스트가 통과된다면, 동일한 로직으로 모든 사업자번호 단건 호출 시 마스킹 여부와 무관하게 item 응답이 있으면 정상 처리로 간주 가능
* 응답이 없을 경우, "사업장이 존재하지 않습니다" 메시지로 마무리 처리
* 추후 일괄 수집 처리 로직에도 동일 기준 적용 가능

---

> 본 요청서는 011 작업요청서 이후, 실제 데이터 기반 검증을 위한 **단건 단위 확인 요청**입니다. 현재 로직은 정상이나, 응답 데이터 유무를 기준으로 판단하는 것이 핵심입니다.
